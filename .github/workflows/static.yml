<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RASPUTIN ‚Äî Opname Afspraken</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<style>
:root{
  --r:#ff0044;--g:#ffd700;--c:#00ffe7;--p:#c84bff;--w:#60a5fa;
  --dk:#03000a;
  --glass:rgba(255,255,255,.045);--gb:rgba(255,255,255,.09);
  --gg:0 0 22px rgba(255,215,0,.5),0 0 70px rgba(255,215,0,.12);
  --rg:0 0 22px rgba(255,0,68,.55),0 0 70px rgba(255,0,68,.15);
  --cg:0 0 16px rgba(0,255,231,.45);
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
html{scroll-behavior:smooth;}
body{font-family:'Rajdhani',sans-serif;background:var(--dk);color:#e8d5b0;min-height:100vh;overflow-x:hidden;cursor:none;}

/* AURORA */
#aurora{position:fixed;inset:0;z-index:0;overflow:hidden;}
.al{position:absolute;border-radius:50%;filter:blur(90px);opacity:.32;}
.a1{background:radial-gradient(ellipse,rgba(255,0,68,.7) 0%,transparent 65%);width:90%;height:80%;top:-20%;left:-30%;animation:am1 15s ease-in-out infinite alternate;}
.a2{background:radial-gradient(ellipse,rgba(255,215,0,.45) 0%,transparent 65%);width:80%;height:70%;bottom:-20%;right:-20%;animation:am2 18s ease-in-out infinite alternate;}
.a3{background:radial-gradient(ellipse,rgba(0,255,231,.3) 0%,transparent 65%);width:70%;height:60%;top:30%;left:15%;animation:am3 12s ease-in-out infinite alternate;}
.a4{background:radial-gradient(ellipse,rgba(196,75,255,.28) 0%,transparent 65%);width:60%;height:60%;top:10%;right:5%;animation:am4 20s ease-in-out infinite alternate;}
@keyframes am1{0%{transform:translate(0,0) scale(1);}100%{transform:translate(8%,5%) scale(1.15);}}
@keyframes am2{0%{transform:translate(0,0) scale(1);}100%{transform:translate(-6%,-8%) scale(1.12);}}
@keyframes am3{0%{transform:translate(0,0) scale(1) rotate(0deg);}100%{transform:translate(5%,-4%) scale(1.1) rotate(6deg);}}
@keyframes am4{0%{transform:translate(0,0) scale(1);}100%{transform:translate(-5%,6%) scale(1.08);}}

.grid{position:fixed;inset:0;background-image:linear-gradient(rgba(255,215,0,.022) 1px,transparent 1px),linear-gradient(90deg,rgba(255,215,0,.022) 1px,transparent 1px);background-size:68px 68px;z-index:1;animation:gm 24s linear infinite;}
@keyframes gm{to{background-position:0 68px;}}
.scan{position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(0,0,0,.032) 3px,rgba(0,0,0,.032) 4px);pointer-events:none;z-index:9000;}

/* CURSOR */
#cur{position:fixed;width:18px;height:18px;border:1.5px solid var(--g);border-radius:50%;pointer-events:none;z-index:9998;transform:translate(-50%,-50%);transition:transform .1s ease,border-color .2s;}
#curD{position:fixed;width:5px;height:5px;background:var(--g);border-radius:50%;pointer-events:none;z-index:9999;transform:translate(-50%,-50%);box-shadow:0 0 10px var(--g);}
#cur.big{transform:translate(-50%,-50%) scale(2.8);border-color:var(--c);}
.trail{position:fixed;border-radius:50%;pointer-events:none;z-index:9997;animation:tF .5s ease forwards;}
@keyframes tF{0%{opacity:.7;transform:translate(-50%,-50%) scale(1);}100%{opacity:0;transform:translate(-50%,-50%) scale(.05);}}

/* INTRO */
#intro{position:fixed;inset:0;z-index:8500;display:flex;flex-direction:column;align-items:center;justify-content:center;background:radial-gradient(ellipse at center,#0e0022 0%,var(--dk) 100%);transition:opacity .9s ease,transform .9s ease;}
#intro.gone{opacity:0;transform:scale(1.05);pointer-events:none;}
.i-eye{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:6px;color:var(--c);opacity:0;animation:fu .6s .3s ease forwards;text-shadow:var(--cg);margin-bottom:18px;}
.i-t{font-family:'Orbitron',sans-serif;font-weight:900;font-size:clamp(68px,14vw,150px);color:var(--g);text-shadow:var(--gg),0 0 250px rgba(255,215,0,.1);letter-spacing:-4px;opacity:0;animation:fu .9s .65s cubic-bezier(.23,1,.32,1) forwards;line-height:.88;}
.i-s{font-family:'Share Tech Mono',monospace;font-size:11px;letter-spacing:8px;color:var(--r);text-shadow:var(--rg);margin-top:14px;opacity:0;animation:fu .7s 1.3s ease forwards;}
.i-bar{width:0;height:2px;background:linear-gradient(90deg,var(--r),var(--g),var(--c),var(--p));box-shadow:0 0 28px rgba(255,215,0,.5);margin-top:52px;animation:ib 2.2s 1.8s cubic-bezier(.23,1,.32,1) forwards;border-radius:1px;}
.i-skip{position:absolute;bottom:36px;font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:5px;color:rgba(255,215,0,.28);cursor:pointer;opacity:0;animation:fu .6s 2.8s ease forwards;transition:color .2s;}
.i-skip:hover{color:rgba(255,215,0,.7);}
@keyframes fu{0%{opacity:0;transform:translateY(28px);}100%{opacity:1;transform:translateY(0);}}
@keyframes ib{to{width:min(560px,75vw);}}

/* TICKER */
#ticker{position:fixed;top:0;left:0;right:0;height:28px;background:rgba(255,0,68,.04);border-bottom:1px solid rgba(255,0,68,.1);display:flex;align-items:center;overflow:hidden;z-index:200;}
#tT{display:flex;white-space:nowrap;animation:tA 55s linear infinite;}
.tw{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:4px;color:rgba(255,0,68,.55);padding:0 28px;}
.tg{color:rgba(255,215,0,.3);padding:0 8px;}
@keyframes tA{0%{transform:translateX(0);}100%{transform:translateX(-50%);}}

/* WRAP */
.wrap{position:relative;z-index:2;max-width:920px;margin:0 auto;padding:76px 28px 130px;}

/* HEADER */
.header{text-align:center;margin-bottom:56px;}
.badge{display:inline-block;font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:5px;color:var(--c);border:1px solid rgba(0,255,231,.2);padding:5px 20px;margin-bottom:20px;text-shadow:var(--cg);background:rgba(0,255,231,.03);backdrop-filter:blur(8px);}
.badge::before,.badge::after{content:'//';color:rgba(0,255,231,.28);margin:0 10px;}
.mega-wrap{position:relative;display:inline-block;margin-bottom:8px;}
.mega{font-family:'Orbitron',sans-serif;font-weight:900;font-size:clamp(60px,12vw,120px);line-height:.88;color:var(--g);text-shadow:0 0 80px rgba(255,215,0,.28),0 0 160px rgba(255,215,0,.06);}
.gLayer{position:absolute;inset:0;pointer-events:none;overflow:hidden;}
.gL1,.gL2{font-family:'Orbitron',sans-serif;font-weight:900;font-size:clamp(60px,12vw,120px);line-height:.88;position:absolute;inset:0;}
.gL1{color:var(--c);clip-path:polygon(0 18%,100% 18%,100% 42%,0 42%);animation:g1 7s infinite;}
.gL2{color:var(--r);clip-path:polygon(0 58%,100% 58%,100% 78%,0 78%);animation:g2 7s infinite;}
@keyframes g1{0%,92%,100%{transform:translate(0);opacity:0;}93%{transform:translate(-6px,1px);opacity:.9;}95%{transform:translate(6px,-2px);opacity:.9;}97%{opacity:0;}}
@keyframes g2{0%,90%,100%{transform:translate(0);opacity:0;}91%{transform:translate(6px,2px);opacity:.75;}94%{transform:translate(-5px,-1px);opacity:.75;}96%{opacity:0;}}
.sub-title{font-family:'Orbitron',sans-serif;font-size:clamp(9px,1.6vw,13px);letter-spacing:9px;color:var(--r);text-shadow:var(--rg);text-transform:uppercase;margin-bottom:36px;}
.hdr-rule{height:1px;background:linear-gradient(90deg,transparent,var(--g) 30%,var(--r) 70%,transparent);box-shadow:0 0 16px rgba(255,215,0,.28),0 0 50px rgba(255,0,68,.1);position:relative;}
.hdr-rule::after{content:'‚ú¶';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--g);font-size:13px;text-shadow:var(--gg);background:var(--dk);padding:0 16px;}

/* WEATHER */
#wx{display:flex;align-items:center;justify-content:center;gap:16px;margin:28px 0 50px;flex-wrap:wrap;}
.wx-card{background:var(--glass);border:1px solid rgba(96,165,250,.18);backdrop-filter:blur(20px);border-radius:4px;padding:18px 24px;display:flex;align-items:center;gap:14px;box-shadow:inset 0 1px 0 rgba(255,255,255,.05),0 8px 32px rgba(0,0,0,.4);position:relative;overflow:hidden;}
.wx-card::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(96,165,250,.45),transparent);}
.wx-icon{font-size:34px;filter:drop-shadow(0 0 10px rgba(96,165,250,.45));}
.wx-info{display:flex;flex-direction:column;gap:3px;}
.wx-temp{font-family:'Orbitron',sans-serif;font-size:24px;font-weight:700;color:var(--w);text-shadow:0 0 14px rgba(96,165,250,.4);}
.wx-desc{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:3px;color:rgba(96,165,250,.6);}
.wx-loc{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;color:rgba(255,255,255,.28);}
.wx-extras{display:flex;gap:20px;}
.wx-m{display:flex;flex-direction:column;align-items:center;gap:4px;}
.wx-mv{font-family:'Orbitron',sans-serif;font-size:15px;font-weight:600;color:rgba(96,165,250,.85);}
.wx-ml{font-family:'Share Tech Mono',monospace;font-size:7px;letter-spacing:2px;color:rgba(255,255,255,.22);}

/* COUNTDOWN */
.cd-sec{margin:0 0 60px;text-align:center;}
.cd-cap{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:4px;color:rgba(255,215,0,.24);margin-bottom:18px;}
.cd-row{display:flex;justify-content:center;gap:14px;flex-wrap:wrap;}
.cd-box{min-width:82px;padding:20px 14px;text-align:center;background:var(--glass);border:1px solid var(--gb);backdrop-filter:blur(20px);border-radius:3px;box-shadow:inset 0 1px 0 rgba(255,255,255,.06),0 8px 32px rgba(0,0,0,.4);position:relative;overflow:hidden;transition:transform .2s,box-shadow .2s;}
.cd-box:hover{transform:translateY(-4px);box-shadow:inset 0 1px 0 rgba(255,255,255,.08),0 18px 50px rgba(0,0,0,.5),0 0 30px rgba(255,215,0,.07);}
.cd-box::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(255,215,0,.38),transparent);}
.cd-n{font-family:'Orbitron',sans-serif;font-size:40px;font-weight:900;color:var(--g);text-shadow:var(--gg);display:block;line-height:1;}
.cd-l{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:3px;color:rgba(255,215,0,.26);margin-top:6px;display:block;}

/* PANELS */
.panel{background:var(--glass);border:1px solid var(--gb);backdrop-filter:blur(28px);-webkit-backdrop-filter:blur(28px);border-radius:4px;padding:36px 40px;margin-bottom:20px;position:relative;overflow:hidden;box-shadow:inset 0 1px 0 rgba(255,255,255,.055),0 20px 60px rgba(0,0,0,.45);transition:border-color .3s,box-shadow .3s;}
.panel::before{content:'';position:absolute;top:0;left:0;width:200%;height:1.5px;background:linear-gradient(90deg,transparent,var(--r),var(--g),var(--c),var(--p),transparent);animation:sw 5s linear infinite;}
@keyframes sw{0%{transform:translateX(-100%);}100%{transform:translateX(50%);}}
.panel::after{content:'';position:absolute;bottom:0;right:0;width:26px;height:26px;border-bottom:1px solid rgba(255,215,0,.16);border-right:1px solid rgba(255,215,0,.16);}
.ptl{position:absolute;top:0;left:0;width:26px;height:26px;border-top:1px solid rgba(255,215,0,.16);border-left:1px solid rgba(255,215,0,.16);}
.panel:hover{border-color:rgba(255,255,255,.13);box-shadow:inset 0 1px 0 rgba(255,255,255,.07),0 24px 70px rgba(0,0,0,.5),0 0 50px rgba(255,0,68,.035);}
.plbl{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:4px;color:var(--r);text-shadow:var(--rg);margin-bottom:26px;display:flex;align-items:center;gap:12px;}
.plbl::after{content:'';flex:1;height:1px;background:linear-gradient(90deg,rgba(255,0,68,.28),transparent);}

/* INPUTS */
.fg{display:flex;flex-direction:column;gap:8px;margin-bottom:18px;}
label{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;color:var(--g);opacity:.65;text-transform:uppercase;}
input[type=date],input[type=time],input[type=email],input[type=text]{background:rgba(255,255,255,.035);border:1px solid rgba(255,255,255,.08);border-radius:3px;padding:14px 18px;color:#fff;font-family:'Share Tech Mono',monospace;font-size:14px;letter-spacing:1px;outline:none;width:100%;transition:all .25s;caret-color:var(--g);backdrop-filter:blur(8px);}
input::-webkit-calendar-picker-indicator{filter:invert(1) sepia(1) saturate(3);opacity:.4;cursor:pointer;}
input:focus{border-color:rgba(255,215,0,.38);background:rgba(255,215,0,.025);box-shadow:0 0 0 1px rgba(255,215,0,.07),var(--gg);}
input::placeholder{color:rgba(255,255,255,.15);font-size:12px;}
.r2{display:grid;grid-template-columns:1fr 1fr;gap:18px;}

/* BUTTON */
.btn-book{width:100%;padding:22px;background:rgba(255,215,0,.07);border:1px solid rgba(255,215,0,.3);border-radius:3px;color:var(--g);font-family:'Orbitron',sans-serif;font-size:14px;font-weight:700;letter-spacing:6px;cursor:pointer;position:relative;overflow:hidden;transition:all .35s;text-shadow:var(--gg);box-shadow:inset 0 1px 0 rgba(255,215,0,.09),0 0 40px rgba(255,215,0,.05);backdrop-filter:blur(12px);}
.btn-book::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,215,0,.1),rgba(255,215,0,.26),rgba(255,215,0,.1));transform:translateX(-115%) skewX(-14deg);transition:transform .5s cubic-bezier(.23,1,.32,1);}
.btn-book span{position:relative;z-index:1;}
.btn-book:hover:not(:disabled){border-color:rgba(255,215,0,.62);background:rgba(255,215,0,.12);box-shadow:var(--gg),inset 0 1px 0 rgba(255,215,0,.16);transform:translateY(-2px);}
.btn-book:hover:not(:disabled)::before{transform:translateX(0) skewX(-14deg);}
.btn-book:active:not(:disabled){transform:translateY(0);}
.btn-book:disabled{opacity:.17;cursor:not-allowed;}
.btn-sm{padding:11px 22px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.09);border-radius:3px;color:rgba(255,215,0,.52);font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:3px;cursor:pointer;transition:all .2s;backdrop-filter:blur(8px);}
.btn-sm:hover{border-color:rgba(255,215,0,.3);color:var(--g);background:rgba(255,215,0,.05);}

/* TABS */
.tabs{display:flex;margin-bottom:20px;}
.tab-btn{flex:1;padding:14px;background:var(--glass);border:1px solid var(--gb);backdrop-filter:blur(16px);font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;color:rgba(255,215,0,.34);cursor:pointer;transition:all .25s;text-align:center;position:relative;overflow:hidden;}
.tab-btn:not(:last-child){border-right:none;}
.tab-btn:first-child{border-radius:3px 0 0 3px;}
.tab-btn:last-child{border-radius:0 3px 3px 0;}
.tab-btn::before{content:'';position:absolute;bottom:0;left:0;right:0;height:2px;background:var(--g);transform:scaleX(0);transition:transform .3s ease;box-shadow:var(--gg);}
.tab-btn.act{color:var(--g);border-color:rgba(255,215,0,.26);text-shadow:var(--gg);background:rgba(255,215,0,.04);}
.tab-btn.act::before{transform:scaleX(1);}
.tc{display:none;}.tc.on{display:block;}

/* ERR/LOAD */
.err{font-family:'Share Tech Mono',monospace;font-size:11px;letter-spacing:2px;color:var(--r);text-shadow:var(--rg);min-height:18px;margin-bottom:12px;text-align:center;}
.ldb{display:none;height:2px;background:rgba(255,215,0,.05);margin-bottom:18px;overflow:hidden;border-radius:1px;}
.ldb.on{display:block;}
.ldb::after{content:'';display:block;height:100%;background:linear-gradient(90deg,transparent,var(--g),var(--c),var(--p),transparent);animation:ld 1s linear infinite;}
@keyframes ld{0%{transform:translateX(-100%);}100%{transform:translateX(100%);}}
.ldt{display:none;font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;color:var(--g);text-align:center;margin-bottom:14px;animation:bl 1s step-end infinite;}
.ldt.on{display:block;}
@keyframes bl{0%,100%{opacity:1;}50%{opacity:.15;}}

/* CALENDAR */
.cal-hdr{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;}
.cal-title{font-family:'Orbitron',sans-serif;font-size:13px;color:var(--g);text-shadow:var(--gg);}
.cal-nav{display:flex;gap:8px;}
.cn{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.09);color:rgba(255,215,0,.55);font-size:16px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;border-radius:2px;transition:all .2s;}
.cn:hover{border-color:rgba(255,215,0,.35);color:var(--g);background:rgba(255,215,0,.05);}
.cdh{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;margin-bottom:6px;}
.cdhl{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;color:rgba(255,255,255,.22);text-align:center;padding:4px;}
.cgrid{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;}
.cc{aspect-ratio:1;border-radius:2px;border:1px solid rgba(255,255,255,.055);display:flex;align-items:center;justify-content:center;font-family:'Share Tech Mono',monospace;font-size:10px;cursor:pointer;transition:all .15s;position:relative;flex-direction:column;}
.cc.empty{border-color:transparent;cursor:default;}
.cc.today{border-color:rgba(255,215,0,.4);box-shadow:0 0 10px rgba(255,215,0,.18);}
.cc.booked{background:rgba(255,0,68,.18);border-color:rgba(255,0,68,.38);color:var(--r);}
.cc.booked:hover{background:rgba(255,0,68,.28);}
.cc.avail{color:rgba(255,255,255,.45);}
.cc.avail:hover{background:rgba(255,215,0,.07);border-color:rgba(255,215,0,.28);color:var(--g);}
.cc.past{color:rgba(255,255,255,.14);cursor:default;border-color:rgba(255,255,255,.03);}
.bdot{width:4px;height:4px;border-radius:50%;background:var(--r);box-shadow:0 0 4px var(--r);margin-top:2px;}

/* STATS */
.stats-row{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:22px;}
.stat{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.07);backdrop-filter:blur(12px);padding:20px;text-align:center;border-radius:3px;transition:transform .2s;}
.stat:hover{transform:translateY(-2px);}
.stat-n{font-family:'Orbitron',sans-serif;font-size:32px;font-weight:900;color:var(--g);text-shadow:var(--gg);display:block;line-height:1;}
.stat-l{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:3px;color:rgba(255,215,0,.26);margin-top:5px;display:block;}

/* BOOKING LIST */
.bklist{display:flex;flex-direction:column;gap:8px;max-height:360px;overflow-y:auto;padding-right:4px;}
.bklist::-webkit-scrollbar{width:3px;}
.bklist::-webkit-scrollbar-thumb{background:rgba(255,215,0,.13);border-radius:2px;}
.bki{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);backdrop-filter:blur(10px);padding:13px 16px;display:flex;align-items:center;gap:14px;border-radius:3px;transition:all .2s;}
.bki:hover{background:rgba(255,255,255,.05);border-color:rgba(255,215,0,.16);transform:translateX(4px);}
.bk-dot{width:7px;height:7px;border-radius:50%;background:var(--r);box-shadow:0 0 8px var(--r);flex-shrink:0;animation:dp 2s ease-in-out infinite;}
@keyframes dp{0%,100%{box-shadow:0 0 4px var(--r);}50%{box-shadow:0 0 14px var(--r),0 0 28px rgba(255,0,68,.3);}}
.bk-date{font-family:'Orbitron',sans-serif;font-size:11px;color:var(--g);min-width:50px;}
.bk-time{font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--c);min-width:46px;}
.bk-name{font-family:'Rajdhani',sans-serif;font-size:15px;color:#fff;font-weight:500;flex:1;}
.bk-empty{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;color:rgba(255,215,0,.17);text-align:center;padding:36px;}

/* SUCCESS */
.suc{display:none;text-align:center;}
.suc.on{display:block;}
.si{font-size:80px;display:block;margin-bottom:18px;animation:spin 6s linear infinite;}
@keyframes spin{to{transform:rotate(360deg);}}
.st{font-family:'Orbitron',sans-serif;font-size:clamp(24px,5vw,44px);font-weight:900;color:var(--g);text-shadow:var(--gg);margin-bottom:8px;animation:gP 2.5s ease-in-out infinite alternate;}
@keyframes gP{0%{text-shadow:0 0 20px rgba(255,215,0,.4);}100%{text-shadow:0 0 70px rgba(255,215,0,1),0 0 140px rgba(255,215,0,.3);}}
.ss{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:4px;color:var(--c);text-shadow:var(--cg);margin-bottom:44px;}
.scc{background:rgba(255,255,255,.04);border:1px solid rgba(255,215,0,.16);backdrop-filter:blur(20px);padding:32px;text-align:left;position:relative;margin-bottom:26px;border-radius:3px;}
.scc::before{content:'‚óÜ BEVESTIGING ‚óÜ';position:absolute;top:-11px;left:24px;background:var(--dk);padding:0 14px;font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:4px;color:var(--g);}
.scr{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid rgba(255,215,0,.05);}
.scr:last-child{border-bottom:none;}
.sck{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:3px;color:rgba(255,215,0,.36);}
.scv{color:#fff;font-family:'Rajdhani',sans-serif;font-size:16px;font-weight:500;}
.sn2{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2px;color:rgba(0,255,231,.4);text-align:center;margin-bottom:28px;line-height:1.9;}

/* MUSIC BAR */
#mbar{position:fixed;bottom:0;left:0;right:0;height:58px;background:rgba(2,0,10,.96);border-top:1px solid rgba(255,215,0,.08);display:flex;align-items:center;padding:0 22px;gap:14px;z-index:500;backdrop-filter:blur(32px);}
#mbar::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--r),var(--g),var(--c),transparent);animation:sw 7s linear infinite;}
.eq{display:flex;align-items:flex-end;gap:3px;height:24px;}
.eqb{width:3px;border-radius:2px 2px 0 0;animation:eqA var(--spd) ease-in-out infinite alternate;}
@keyframes eqA{0%{height:3px;}100%{height:var(--h);}}
.mi{flex:1;}
.mt{font-family:'Orbitron',sans-serif;font-size:9px;letter-spacing:3px;color:var(--g);text-shadow:var(--gg);}
.ma{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;color:rgba(255,215,0,.26);margin-top:2px;}
.mw{display:flex;align-items:center;gap:2px;}
.mwv{width:2px;border-radius:1px;animation:wA var(--s) ease-in-out infinite alternate;}
@keyframes wA{0%{height:2px;background:rgba(255,215,0,.1);}100%{height:var(--h);background:rgba(255,215,0,.55);}}
.mvol{display:flex;align-items:center;gap:8px;}
.ppb{width:34px;height:34px;border-radius:50%;background:rgba(255,215,0,.07);border:1px solid rgba(255,215,0,.2);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:13px;transition:all .2s;color:var(--g);}
.ppb:hover{background:rgba(255,215,0,.14);border-color:rgba(255,215,0,.48);box-shadow:0 0 16px rgba(255,215,0,.18);}
.vb{background:none;border:none;cursor:pointer;color:rgba(255,215,0,.4);font-size:17px;transition:color .2s;padding:2px 8px;}
.vb:hover{color:var(--g);}
.vsl{-webkit-appearance:none;width:74px;height:2px;background:rgba(255,215,0,.14);outline:none;cursor:pointer;border-radius:1px;}
.vsl::-webkit-slider-thumb{-webkit-appearance:none;width:10px;height:10px;border-radius:50%;background:var(--g);box-shadow:0 0 8px var(--g);cursor:pointer;}

/* TOAST */
#toast{position:fixed;top:48px;left:50%;transform:translateX(-50%) translateY(-16px);background:rgba(0,255,231,.09);border:1px solid rgba(0,255,231,.28);backdrop-filter:blur(16px);padding:12px 24px;font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;color:var(--c);z-index:9990;opacity:0;transition:all .4s cubic-bezier(.23,1,.32,1);pointer-events:none;border-radius:3px;white-space:nowrap;}
#toast.show{opacity:1;transform:translateX(-50%) translateY(0);}

/* CORNERS */
.corner{position:fixed;z-index:5;pointer-events:none;}
.corner.tl{top:36px;left:14px;border-top:1.5px solid rgba(255,215,0,.13);border-left:1.5px solid rgba(255,215,0,.13);width:32px;height:32px;}
.corner.tr{top:36px;right:14px;border-top:1.5px solid rgba(255,215,0,.13);border-right:1.5px solid rgba(255,215,0,.13);width:32px;height:32px;}
.corner.bl{bottom:72px;left:14px;border-bottom:1.5px solid rgba(255,0,68,.13);border-left:1.5px solid rgba(255,0,68,.13);width:32px;height:32px;}
.corner.br{bottom:72px;right:14px;border-bottom:1.5px solid rgba(255,0,68,.13);border-right:1.5px solid rgba(255,0,68,.13);width:32px;height:32px;}

/* REVEAL */
.rv{opacity:0;transform:translateY(22px);animation:rv .7s cubic-bezier(.23,1,.32,1) forwards;}
.rv:nth-child(1){animation-delay:.05s;}.rv:nth-child(2){animation-delay:.17s;}.rv:nth-child(3){animation-delay:.29s;}
.rv:nth-child(4){animation-delay:.41s;}.rv:nth-child(5){animation-delay:.53s;}.rv:nth-child(6){animation-delay:.65s;}
@keyframes rv{to{opacity:1;transform:translateY(0);}}

/* LEGEND */
.legend{display:flex;gap:16px;margin-top:16px;flex-wrap:wrap;}
.leg{display:flex;align-items:center;gap:6px;font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:rgba(255,255,255,.28);}
.leg-dot{width:10px;height:10px;border-radius:1px;}

@media(max-width:580px){.panel{padding:22px 18px;}.r2{grid-template-columns:1fr;}.wrap{padding:56px 14px 96px;}.mega,.gL1,.gL2{font-size:52px;}.stats-row{grid-template-columns:1fr 1fr;}.cd-row{gap:8px;}.cd-box{min-width:60px;padding:14px 10px;}.cd-n{font-size:28px;}#wx{gap:10px;}}
</style>
</head>
<body>

<div id="aurora"><div class="al a1"></div><div class="al a2"></div><div class="al a3"></div><div class="al a4"></div></div>
<div class="grid"></div><div class="scan"></div>
<div id="cur"></div><div id="curD"></div>
<div class="corner tl"></div><div class="corner tr"></div><div class="corner bl"></div><div class="corner br"></div>
<div id="ticker"><div id="tT"></div></div>
<div id="toast"></div>

<!-- INTRO -->
<div id="intro">
  <div class="i-eye">SCHOOLPRODUCTIE ‚Äî MUZIEKVIDEO 2025</div>
  <div class="i-t">RASPUTIN</div>
  <div class="i-s">OPNAME AFSPRAKEN SYSTEEM</div>
  <div class="i-bar"></div>
  <div class="i-skip" onclick="skipIntro()">[ KLIK OM TE BEGINNEN ]</div>
</div>

<div class="wrap">
  <div class="header rv">
    <div class="badge">SCHOOLPRODUCTIE ‚Äî MUZIEKVIDEO</div>
    <div class="mega-wrap">
      <div class="mega">RASPUTIN</div>
      <div class="gLayer"><div class="gL1">RASPUTIN</div><div class="gL2">RASPUTIN</div></div>
    </div>
    <p class="sub-title">Opname Afspraken</p>
    <div class="hdr-rule"></div>
  </div>

  <!-- WEATHER -->
  <div id="wx" class="rv">
    <div class="wx-card">
      <div class="wx-icon" id="wxI">üå°Ô∏è</div>
      <div class="wx-info">
        <div class="wx-temp" id="wxT">‚Äî¬∞C</div>
        <div class="wx-desc" id="wxD">LADEN...</div>
        <div class="wx-loc" id="wxL">LOCATIE</div>
      </div>
    </div>
    <div class="wx-card">
      <div class="wx-extras">
        <div class="wx-m"><div class="wx-mv" id="wxW">‚Äî</div><div class="wx-ml">KM/H WIND</div></div>
        <div class="wx-m"><div class="wx-mv" id="wxH">‚Äî</div><div class="wx-ml">% VOCHTIG</div></div>
        <div class="wx-m"><div class="wx-mv" id="wxF">‚Äî</div><div class="wx-ml">¬∞C FEELS</div></div>
      </div>
    </div>
  </div>

  <!-- COUNTDOWN -->
  <div class="cd-sec rv">
    <p class="cd-cap">‚Äî OPNAMEDAG BEGINT OVER ‚Äî</p>
    <div class="cd-row">
      <div class="cd-box"><span class="cd-n" id="cdD">00</span><span class="cd-l">DAGEN</span></div>
      <div class="cd-box"><span class="cd-n" id="cdH">00</span><span class="cd-l">UREN</span></div>
      <div class="cd-box"><span class="cd-n" id="cdM">00</span><span class="cd-l">MIN</span></div>
      <div class="cd-box"><span class="cd-n" id="cdS">00</span><span class="cd-l">SEC</span></div>
    </div>
  </div>

  <div id="mainArea">
    <div class="tabs rv">
      <div class="tab-btn act" onclick="swTab('form',this)">&#9654; AFSPRAAK MAKEN</div>
      <div class="tab-btn" onclick="swTab('list',this)">&#9776; OVERZICHT</div>
      <div class="tab-btn" onclick="swTab('cal',this)">&#128197; KALENDER</div>
    </div>

    <!-- FORM -->
    <div class="tc on" id="tc-form">
      <div class="panel rv"><div class="ptl"></div>
        <p class="plbl">// 01 ‚Äî DATUM &amp; TIJD</p>
        <div class="r2">
          <div class="fg"><label for="dF">Datum</label><input type="date" id="dF"></div>
          <div class="fg"><label for="tF">Tijdstip</label><input type="time" id="tF" min="07:00" max="20:00" step="900" value="09:00"></div>
        </div>
        <p style="font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:rgba(255,215,0,.18);margin-top:2px;">MA ‚Äì VR &nbsp;|&nbsp; 07:00 ‚Äì 20:00</p>
      </div>
      <div class="panel rv"><div class="ptl"></div>
        <p class="plbl">// 02 ‚Äî JOUW GEGEVENS</p>
        <div class="r2">
          <div class="fg"><label for="nF">Naam</label><input type="text" id="nF" placeholder="Voor- en achternaam"></div>
          <div class="fg"><label for="eF">E-mailadres</label><input type="email" id="eF" placeholder="naam@school.nl"></div>
        </div>
        <div class="fg"><label for="noF">Opmerking (optioneel)</label><input type="text" id="noF" placeholder="Speciale wensen of vragen..."></div>
      </div>
      <div class="panel rv" style="padding:26px 40px;"><div class="ptl"></div>
        <p class="err" id="errMsg"></p>
        <div class="ldb" id="ldBar"></div>
        <p class="ldt" id="ldTxt">// BEZIG MET VERWERKEN... //</p>
        <button class="btn-book" id="subBtn" onclick="doSubmit()"><span>&#9654;&nbsp;&nbsp;BEVESTIG AFSPRAAK</span></button>
      </div>
    </div>

    <!-- LIST -->
    <div class="tc" id="tc-list">
      <div class="panel rv"><div class="ptl"></div>
        <p class="plbl">// GEPLANDE AFSPRAKEN</p>
        <div class="stats-row" id="statsEl"></div>
        <div class="bklist" id="bkList"></div>
        <div style="margin-top:16px;display:flex;justify-content:flex-end;">
          <button class="btn-sm" onclick="clearAll()">&#128465; ALLES WISSEN</button>
        </div>
      </div>
    </div>

    <!-- CALENDAR -->
    <div class="tc" id="tc-cal">
      <div class="panel rv"><div class="ptl"></div>
        <p class="plbl">// KALENDER OVERZICHT</p>
        <div class="cal-hdr">
          <div class="cal-title" id="calTitle"></div>
          <div class="cal-nav"><div class="cn" onclick="calNav(-1)">&#8249;</div><div class="cn" onclick="calNav(1)">&#8250;</div></div>
        </div>
        <div class="cdh">
          <div class="cdhl">MA</div><div class="cdhl">DI</div><div class="cdhl">WO</div><div class="cdhl">DO</div><div class="cdhl">VR</div><div class="cdhl">ZA</div><div class="cdhl">ZO</div>
        </div>
        <div class="cgrid" id="calGrid"></div>
        <div class="legend">
          <div class="leg"><div class="leg-dot" style="background:rgba(255,0,68,.2);border:1px solid rgba(255,0,68,.4);"></div>GEBOEKT</div>
          <div class="leg"><div class="leg-dot" style="border:1px solid rgba(255,215,0,.4);box-shadow:0 0 6px rgba(255,215,0,.2);"></div>VANDAAG</div>
          <div class="leg"><div class="leg-dot" style="border:1px solid rgba(255,255,255,.06);"></div>BESCHIKBAAR</div>
        </div>
      </div>
    </div>
  </div>

  <!-- SUCCESS -->
  <div class="suc" id="sucEl">
    <div class="panel"><div class="ptl"></div>
      <span class="si">üé¨</span>
      <div class="st">AFSPRAAK BEVESTIGD!</div>
      <p class="ss">// TOEGANG VERLEEND ‚Äî CHECK UW INBOX //</p>
      <div class="scc" id="sccEl"></div>
      <p class="sn2">BEVESTIGINGSMAIL VERSTUURD NAAR UW INBOX<br>‚ú¶ TOT OP DE SET! ‚ú¶</p>
      <button class="btn-sm" onclick="doReset()" style="margin:0 auto;display:block;">&#8617;&nbsp; NIEUWE AFSPRAAK</button>
    </div>
  </div>
</div>

<!-- MUSIC BAR -->
<div id="mbar">
  <div class="eq" id="eqEl"></div>
  <div class="mi"><div class="mt">RASPUTIN ‚Äî BONEY M.</div><div class="ma" id="mSt">&#9654; KLIK ERGENS OM TE STARTEN</div></div>
  <div class="mw" id="wvEl"></div>
  <div class="mvol">
    <div class="ppb" id="ppBtn" onclick="togglePlay()">&#9654;</div>
    <button class="vb" id="muteBtn" onclick="doMute()">&#128266;</button>
    <input type="range" class="vsl" id="volSl" min="0" max="100" value="70" oninput="doVol(this.value)">
  </div>
</div>

<script>
// ‚ïê‚ïê EMAILJS ‚ïê‚ïê
emailjs.init({ publicKey: 'o6uNtYFIP0yI6Iusd' });
const EJ_SVC='service_klcji5b', EJ_TPL='template_u2whwih';

// ‚ïê‚ïê INTRO ‚ïê‚ïê
let iGone=false;
function skipIntro(){if(iGone)return;iGone=true;const el=document.getElementById('intro');el.classList.add('gone');setTimeout(()=>el.style.display='none',950);}
setTimeout(skipIntro,5500);

// ‚ïê‚ïê CURSOR + TRAILS ‚ïê‚ïê
const CUR=document.getElementById('cur'),DOT=document.getElementById('curD');
let mx=0,my=0,cx=0,cy=0,lt=0;
document.addEventListener('mousemove',e=>{
  mx=e.clientX;my=e.clientY;DOT.style.left=mx+'px';DOT.style.top=my+'px';
  const now=Date.now();
  if(now-lt>45){lt=now;const t=document.createElement('div');t.className='trail';
    const sz=3+Math.random()*7,cols=['#ffd700','#ff0044','#00ffe7','#c84bff'];
    t.style.cssText=`left:${mx}px;top:${my}px;width:${sz}px;height:${sz}px;background:${cols[~~(Math.random()*4)]};box-shadow:0 0 ${sz*2}px currentColor;`;
    document.body.appendChild(t);setTimeout(()=>t.remove(),500);}
});
(function tick(){cx+=(mx-cx)*.13;cy+=(my-cy)*.13;CUR.style.left=cx+'px';CUR.style.top=cy+'px';requestAnimationFrame(tick);})();
function addH(s){document.querySelectorAll(s).forEach(el=>{el.addEventListener('mouseenter',()=>CUR.classList.add('big'));el.addEventListener('mouseleave',()=>CUR.classList.remove('big'));});}
addH('input,button,.tab-btn,.btn-sm,.ppb,.vb,.cn,.cc');

// ‚ïê‚ïê TICKER ‚ïê‚ïê
const words=['RASPUTIN','‚ú¶','BONEY M.','‚ú¶','MUZIEKVIDEO','‚ú¶','OPNAME 2025','‚ú¶','RA RA RASPUTIN','‚ú¶','LOVER OF THE RUSSIAN QUEEN','‚ú¶','SCHOOLPRODUCTIE','‚ú¶'];
const tk=document.getElementById('tT');
tk.innerHTML=[...words,...words,...words,...words].map((w,i)=>i%2===1?`<span class="tg">${w}</span>`:`<span class="tw">${w}</span>`).join('');

// ‚ïê‚ïê WEATHER ‚ïê‚ïê
const wxCodes={0:'HELDER',1:'OVERWEGEND HELDER',2:'GEDEELTELIJK BEWOLKT',3:'BEWOLKT',45:'MISTIG',48:'BEVRIEZENDE MIST',51:'LICHTE MOTREGEN',53:'MATIGE MOTREGEN',61:'LICHTE REGEN',63:'MATIGE REGEN',65:'ZWARE REGEN',71:'LICHTE SNEEUW',73:'MATIGE SNEEUW',80:'LICHTE BUIEN',81:'MATIGE BUIEN',82:'ZWARE BUIEN',95:'ONWEER',99:'ONWEER MET HAGEL'};
const wxIcons={0:'‚òÄÔ∏è',1:'üå§Ô∏è',2:'‚õÖ',3:'‚òÅÔ∏è',45:'üå´Ô∏è',48:'üå´Ô∏è',51:'üå¶Ô∏è',53:'üå¶Ô∏è',61:'üåßÔ∏è',63:'üåßÔ∏è',65:'üåßÔ∏è',71:'‚ùÑÔ∏è',73:'‚ùÑÔ∏è',75:'‚ùÑÔ∏è',80:'üå¶Ô∏è',81:'üåßÔ∏è',82:'‚õàÔ∏è',95:'‚õàÔ∏è',99:'‚õàÔ∏è'};
async function loadWx(){
  try{
    const geo=await fetch('https://ipapi.co/json/').then(r=>r.json()).catch(()=>({latitude:52.37,longitude:4.89,city:'Amsterdam'}));
    const lat=geo.latitude||52.37,lon=geo.longitude||4.89,city=geo.city||'NL';
    document.getElementById('wxL').textContent=city.toUpperCase();
    const d=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,apparent_temperature,relative_humidity_2m,wind_speed_10m,weather_code&wind_speed_unit=kmh&timezone=auto`).then(r=>r.json());
    const c=d.current;
    document.getElementById('wxT').textContent=Math.round(c.temperature_2m)+'¬∞C';
    document.getElementById('wxD').textContent=wxCodes[c.weather_code]||'ONBEKEND';
    document.getElementById('wxI').textContent=wxIcons[c.weather_code]||'üå°Ô∏è';
    document.getElementById('wxW').textContent=Math.round(c.wind_speed_10m);
    document.getElementById('wxH').textContent=Math.round(c.relative_humidity_2m);
    document.getElementById('wxF').textContent=Math.round(c.apparent_temperature);
  }catch(e){document.getElementById('wxD').textContent='NIET BESCHIKBAAR';}
}
loadWx();

// ‚ïê‚ïê COUNTDOWN ‚ïê‚ïê
const TARGET=new Date();TARGET.setDate(TARGET.getDate()+42);
function updateCD(){
  const diff=TARGET-new Date();
  if(diff<=0){document.querySelector('.cd-row').innerHTML='<div style="font-family:\'Share Tech Mono\',monospace;color:var(--r);letter-spacing:4px;font-size:11px;padding:20px;">üé¨ OP NAAR DE SET!</div>';return;}
  const D=Math.floor(diff/864e5),H=Math.floor((diff%864e5)/36e5),M=Math.floor((diff%36e5)/6e4),S=Math.floor((diff%6e4)/1e3);
  const sn=(id,v)=>{const el=document.getElementById(id);const s=String(v).padStart(2,'0');if(el&&el.textContent!==s)el.textContent=s;};
  sn('cdD',D);sn('cdH',H);sn('cdM',M);sn('cdS',S);
}
updateCD();setInterval(updateCD,1000);

// ‚ïê‚ïê MUSIC via Web Audio API (Rasputin riff) ‚ïê‚ïê
// Works in ALL browsers, no server needed, no autoplay policy issues after first click
let actx=null,gainNode=null,playing=false,vol=0.7,loopTO=null;
// Rasputin "Ra Ra Rasputin" hook approximation
const TEMPO=0.38; // seconds per beat
const melody=[
  // Verse riff
  [392,1],[392,.5],[392,.5],[349.23,1],[392,1],[0,.5],[392,.5],
  [392,.5],[349.23,.5],[392,.5],[329.63,.5],[293.66,2],[0,.5],
  [392,1],[392,.5],[392,.5],[349.23,1],[392,1],[466.16,.5],[440,.5],
  [392,.5],[349.23,.5],[329.63,.5],[293.66,.5],[392,2.5]
];
function playNote(freq,startT,durBeats){
  if(!actx||!playing) return;
  const dur=durBeats*TEMPO;
  if(freq===0) return;
  const osc=actx.createOscillator();
  const env=actx.createGain();
  const dist=actx.createWaveShaper();
  // Slight distortion for that Boney M. warmth
  const curve=new Float32Array(256);
  for(let i=0;i<256;i++){const x=i*2/256-1;curve[i]=x*(Math.abs(x)<.5?2:1.5);}
  dist.curve=curve;
  osc.connect(dist);dist.connect(env);env.connect(gainNode);
  osc.type='sawtooth';
  osc.frequency.value=freq;
  env.gain.setValueAtTime(0,startT);
  env.gain.linearRampToValueAtTime(.15,startT+.015);
  env.gain.setValueAtTime(.15,startT+dur*.7);
  env.gain.exponentialRampToValueAtTime(.001,startT+dur*.95);
  osc.start(startT);osc.stop(startT+dur);
}
function scheduleLoop(){
  if(!actx||!playing) return;
  let t=actx.currentTime+.05;
  melody.forEach(([freq,beats])=>{playNote(freq,t,beats);t+=beats*TEMPO;});
  const total=melody.reduce((s,[,b])=>s+b*TEMPO,0)*1000-80;
  loopTO=setTimeout(()=>{if(playing)scheduleLoop();},total);
}
function initAudio(){
  if(actx) return;
  actx=new(window.AudioContext||window.webkitAudioContext)();
  gainNode=actx.createGain();gainNode.gain.value=vol;gainNode.connect(actx.destination);
  playing=true;scheduleLoop();
  document.getElementById('mSt').textContent='‚ñ∂ NU SPELEND';
  document.getElementById('ppBtn').innerHTML='&#9646;&#9646;';
}
function togglePlay(){
  if(!actx){initAudio();return;}
  playing=!playing;
  const btn=document.getElementById('ppBtn'),st=document.getElementById('mSt');
  if(playing){actx.resume();scheduleLoop();btn.innerHTML='&#9646;&#9646;';st.textContent='‚ñ∂ NU SPELEND';}
  else{clearTimeout(loopTO);actx.suspend();btn.innerHTML='&#9654;';st.textContent='‚è∏ GEPAUZEERD';}
}
function doVol(v){vol=v/100;if(gainNode)gainNode.gain.value=vol;const b=document.getElementById('muteBtn');if(+v===0){b.innerHTML='&#128264;';}else b.innerHTML='&#128266;';}
function doMute(){const sl=document.getElementById('volSl'),b=document.getElementById('muteBtn');if(gainNode&&gainNode.gain.value>0){gainNode.gain.value=0;sl.value=0;b.innerHTML='&#128264;';}else{gainNode.gain.value=vol;sl.value=vol*100;b.innerHTML='&#128266;';}}
document.addEventListener('click',()=>{if(!actx)initAudio();},{once:true});

// ‚ïê‚ïê EQ + WAVEFORM ‚ïê‚ïê
const EQ=document.getElementById('eqEl');
const eqC=['#ff0044','#ff3366','#ff0044','#ffd700','#ff0044','#ffd700','#00ffe7','#ff0044'];
for(let i=0;i<8;i++){const b=document.createElement('div');b.className='eqb';const h=Math.random()*20+5;b.style.cssText=`--h:${h}px;--spd:${.2+Math.random()*.6}s;height:${h}px;background:${eqC[i]};box-shadow:0 0 5px ${eqC[i]};`;EQ.appendChild(b);}
const WV=document.getElementById('wvEl');
for(let i=0;i<32;i++){const d=document.createElement('div');d.className='mwv';const h=Math.random()*20+3;d.style.cssText=`--h:${h}px;--s:${.12+Math.random()*.8}s;height:${h}px;`;WV.appendChild(d);}

// ‚ïê‚ïê TABS ‚ïê‚ïê
function swTab(id,el){
  document.querySelectorAll('.tab-btn').forEach(t=>t.classList.remove('act'));
  document.querySelectorAll('.tc').forEach(t=>t.classList.remove('on'));
  el.classList.add('act');document.getElementById('tc-'+id).classList.add('on');
  if(id==='list')renderList();if(id==='cal')renderCal();
  setTimeout(()=>addH('.cc'),100);
}

// ‚ïê‚ïê DATE ‚ïê‚ïê
const dF=document.getElementById('dF'),tF=document.getElementById('tF');
const tmr=new Date();tmr.setDate(tmr.getDate()+1);dF.min=tmr.toISOString().split('T')[0];
const mxD=new Date();mxD.setMonth(mxD.getMonth()+6);dF.max=mxD.toISOString().split('T')[0];
dF.addEventListener('change',()=>{const d=new Date(dF.value);if(d.getDay()===0||d.getDay()===6){showErr('‚ö† KIES EEN WERKDAG (MA‚ÄìVR)');dF.value='';}else hideErr();});

// ‚ïê‚ïê STORAGE ‚ïê‚ïê
const SK='ras_v7';
function getAll(){return JSON.parse(localStorage.getItem(SK)||'[]');}
function saveOne(b){const a=getAll();a.push(b);localStorage.setItem(SK,JSON.stringify(a));}
function isBooked(d,t){return getAll().some(b=>b.date===d&&b.time===t);}
function clearAll(){if(!confirm('Weet je zeker dat je ALLE afspraken wilt verwijderen?'))return;localStorage.removeItem(SK);renderList();showToast('‚úì ALLE AFSPRAKEN GEWIST');}

// ‚ïê‚ïê TOAST ‚ïê‚ïê
let tTO;
function showToast(m){const t=document.getElementById('toast');t.textContent=m;t.classList.add('show');clearTimeout(tTO);tTO=setTimeout(()=>t.classList.remove('show'),2800);}

// ‚ïê‚ïê ERR ‚ïê‚ïê
function showErr(m){document.getElementById('errMsg').textContent=m;}
function hideErr(){document.getElementById('errMsg').textContent='';}

// ‚ïê‚ïê SUBMIT ‚ïê‚ïê
function doSubmit(){
  const date=dF.value,time=tF.value,
        name=document.getElementById('nF').value.trim(),
        email=document.getElementById('eF').value.trim(),
        note=document.getElementById('noF').value.trim();
  hideErr();
  if(!date){showErr('‚ö† KIES EEN DATUM');return;}
  if(!time){showErr('‚ö† KIES EEN TIJDSTIP');return;}
  if(!name){showErr('‚ö† NAAM IS VERPLICHT');return;}
  if(!email||!email.includes('@')){showErr('‚ö† GELDIG E-MAILADRES VEREIST');return;}
  const h=parseInt(time.split(':')[0]);
  if(h<7||h>=20){showErr('‚ö† KIES EEN TIJD TUSSEN 07:00 EN 20:00');return;}
  if(isBooked(date,time)){showErr('‚ö† DIT TIJDSTIP IS AL GEBOEKT ‚Äî KIES EEN ANDERE TIJD');return;}
  document.getElementById('ldBar').classList.add('on');
  document.getElementById('ldTxt').classList.add('on');
  document.getElementById('subBtn').disabled=true;
  const booking={date,time,name,email,note,id:Date.now()};
  emailjs.send(EJ_SVC,EJ_TPL,{to_email:email,to_name:name,date:fmtDate(date),time,note:note||'‚Äî',ref:'#'+booking.id})
    .then(()=>finish(booking))
    .catch(err=>{console.warn('EmailJS:',err);finish(booking);});
}
function finish(b){
  saveOne(b);
  document.getElementById('ldBar').classList.remove('on');
  document.getElementById('ldTxt').classList.remove('on');
  showSuccess(b);boom();
}

// ‚ïê‚ïê FORMAT DATE ‚ïê‚ïê
function fmtDate(ds){
  const[y,m,d]=ds.split('-');
  const mo=['JAN','FEB','MRT','APR','MEI','JUN','JUL','AUG','SEP','OKT','NOV','DEC'];
  const dw=['ZO','MA','DI','WO','DO','VR','ZA'];
  return`${dw[new Date(ds).getDay()]} ${parseInt(d)} ${mo[parseInt(m)-1]} ${y}`;
}

// ‚ïê‚ïê SUCCESS ‚ïê‚ïê
function showSuccess(b){
  document.getElementById('mainArea').style.display='none';
  document.getElementById('sucEl').classList.add('on');
  document.getElementById('sccEl').innerHTML=`
    <div class="scr"><span class="sck">NAAM</span><span class="scv">${b.name}</span></div>
    <div class="scr"><span class="sck">E-MAIL</span><span class="scv">${b.email}</span></div>
    <div class="scr"><span class="sck">DATUM</span><span class="scv">${fmtDate(b.date)}</span></div>
    <div class="scr"><span class="sck">TIJD</span><span class="scv">${b.time}</span></div>
    ${b.note?`<div class="scr"><span class="sck">OPMERKING</span><span class="scv">${b.note}</span></div>`:''}
    <div class="scr"><span class="sck">REF</span><span class="scv" style="font-family:'Share Tech Mono',monospace;font-size:11px;color:rgba(255,215,0,.33);">#${b.id}</span></div>
  `;
}
function doReset(){
  document.getElementById('mainArea').style.display='block';
  document.getElementById('sucEl').classList.remove('on');
  document.getElementById('subBtn').disabled=false;
  dF.value='';tF.value='09:00';
  ['nF','eF','noF'].forEach(id=>document.getElementById(id).value='');
  hideErr();
}

// ‚ïê‚ïê LIST ‚ïê‚ïê
function renderList(){
  const all=getAll().sort((a,b)=>a.date===b.date?a.time.localeCompare(b.time):a.date.localeCompare(b.date));
  const today=new Date().toISOString().split('T')[0];
  const up=all.filter(b=>b.date>=today).length;
  document.getElementById('statsEl').innerHTML=`
    <div class="stat"><span class="stat-n">${all.length}</span><span class="stat-l">TOTAAL</span></div>
    <div class="stat"><span class="stat-n">${up}</span><span class="stat-l">AANKOMEND</span></div>
    <div class="stat"><span class="stat-n">${all.length-up}</span><span class="stat-l">GEWEEST</span></div>
  `;
  const bl=document.getElementById('bkList');
  if(!all.length){bl.innerHTML='<div class="bk-empty">// GEEN AFSPRAKEN GEVONDEN //</div>';return;}
  bl.innerHTML=all.map(b=>`
    <div class="bki"><div class="bk-dot"></div><div class="bk-date">${fmtDate(b.date).slice(3)}</div><div class="bk-time">${b.time}</div><div class="bk-name">${b.name}</div></div>
  `).join('');
}

// ‚ïê‚ïê CALENDAR ‚ïê‚ïê
let calY=new Date().getFullYear(),calM=new Date().getMonth();
const MOS=['JANUARI','FEBRUARI','MAART','APRIL','MEI','JUNI','JULI','AUGUSTUS','SEPTEMBER','OKTOBER','NOVEMBER','DECEMBER'];
function calNav(d){calM+=d;if(calM>11){calM=0;calY++;}if(calM<0){calM=11;calY--;}renderCal();}
function renderCal(){
  const all=getAll(),bd={};
  all.forEach(b=>{bd[b.date]=(bd[b.date]||0)+1;});
  document.getElementById('calTitle').textContent=`${MOS[calM]} ${calY}`;
  const grid=document.getElementById('calGrid');grid.innerHTML='';
  const first=new Date(calY,calM,1);
  const startDay=(first.getDay()+6)%7;
  const dim=new Date(calY,calM+1,0).getDate();
  const today=new Date().toISOString().split('T')[0];
  for(let i=0;i<startDay;i++){const c=document.createElement('div');c.className='cc empty';grid.appendChild(c);}
  for(let d=1;d<=dim;d++){
    const ds=`${calY}-${String(calM+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
    const dow=new Date(ds).getDay(),isWE=dow===0||dow===6,isToday=ds===today,bCnt=bd[ds]||0,isPast=ds<today;
    const c=document.createElement('div');
    let cls='cc ';
    if(isWE||isPast)cls+='past';else if(bCnt>0)cls+='booked';else cls+='avail';
    if(isToday)cls+=' today';
    c.className=cls;c.textContent=d;
    if(bCnt>0){const dot=document.createElement('div');dot.className='bdot';c.appendChild(dot);}
    if(!isWE&&!isPast){c.onclick=()=>{dF.value=ds;document.querySelector('.tab-btn').click();showToast('üìÖ '+fmtDate(ds)+' GESELECTEERD');};}
    grid.appendChild(c);
  }
}

// ‚ïê‚ïê CONFETTI ‚ïê‚ïê
function boom(){
  const cols=['#ffd700','#ff0044','#00ffe7','#fff','#ffa500','#c84bff'];
  if(!document.getElementById('cSty')){const s=document.createElement('style');s.id='cSty';s.textContent=`@keyframes cD{0%{transform:translateY(0) rotate(0) scale(1);opacity:1;}100%{transform:translateY(115vh) rotate(900deg) scale(.08);opacity:0;}}`;document.head.appendChild(s);}
  for(let i=0;i<140;i++){setTimeout(()=>{const el=document.createElement('div');const sz=2+Math.random()*12;el.style.cssText=`position:fixed;top:-10px;left:${Math.random()*100}vw;width:${sz}px;height:${sz}px;background:${cols[~~(Math.random()*6)]};z-index:9990;pointer-events:none;border-radius:${Math.random()>.4?'50%':'1px'};box-shadow:0 0 ${sz}px currentColor;animation:cD ${1.2+Math.random()*3}s ease-in forwards;`;document.body.appendChild(el);setTimeout(()=>el.remove(),5000);},i*14);}
}
</script>
</body>
</html>
